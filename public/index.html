<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="keywords" content="AdCharity, Geolocation, HTML5, tracking" />
	<meta name="author" content="AdCharity" />
	<meta property="og:author" content="AdCharity" />
    <title>Geolocation</title>
	<meta property="og:title" content="Geolocation" />
	<meta property="og:description" content="How to retrieve user location"/>
    <meta name="description" content="How to retrieve user location"/>

	<meta property="og:image" content="https://assets.adcharity.tech/pwa/icon-72x72.png" /> 
    <meta name="theme-color" content="#000000" />

	<link rel="shortcut icon" href="https://assets.adcharity.tech/favicon.ico" type="image/x-icon" />

	<link rel="apple-touch-icon" href="https://assets.adcharity.tech/apple/apple-touch-icon.png" />
	<link rel="apple-touch-icon" sizes="57x57" href="https://assets.adcharity.tech/apple/apple-touch-icon-57x57.png" />
	<link rel="apple-touch-icon" sizes="72x72" href="https://assets.adcharity.tech/apple/apple-touch-icon-72x72.png" />
	<link rel="apple-touch-icon" sizes="76x76" href="https://assets.adcharity.tech/apple/apple-touch-icon-76x76.png" />
	<link rel="apple-touch-icon" sizes="114x114" href="https://assets.adcharity.tech/apple/apple-touch-icon-114x114.png" />
	<link rel="apple-touch-icon" sizes="120x120" href="https://assets.adcharity.tech/apple/apple-touch-icon-120x120.png" />
	<link rel="apple-touch-icon" sizes="144x144" href="https://assets.adcharity.tech/apple/apple-touch-icon-144x144.png" />
	<link rel="apple-touch-icon" sizes="152x152" href="https://assets.adcharity.tech/apple/apple-touch-icon-152x152.png" />
	<link rel="apple-touch-icon" sizes="180x180" href="https://assets.adcharity.tech/apple/apple-touch-icon-180x180.png" />

	<!-- Mobile -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="HandheldFriendly" content="true" />

	<!-- Prevent Cache -->
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
	<meta http-equiv="Pragma" content="no-cache" />
	<meta http-equiv="Expires" content="0" />

	<link rel="stylesheet" href="/style.css" />
	<script src="/prevent.js" defer></script>
	<script src="/alert.js" defer></script>
	<script src="/script.js" defer></script>
</head>
<body>
	<div id="attention">
		While this page contains several tracking elements, it does not send any of it to a server.
	</div>
	<h1>HTML5 API</h1>
	<div class="collapsible">
		Code
	</div>
<div class="content"><pre><code>
function initialize() {
	function success (position) {
		const latitude  = position.coords.latitude;
		const longitude = position.coords.longitude;
		let location = {
			latitude: `${latitude} °`,
			longitude: `${longitude} °
		}
	}
	function error (){
		let location = {
			error: 'Could not locate user.'
		}
	}
	if (!navigator.geolocation) {
		return {
			error: 'Could not locate user.'
		}
	} 
	else {
		navigator.geolocation.getCurrentPosition(success, error);
	}
}
initialize();

</code></pre></div>
	<h2>Results</h2>
	<div id="geo-location"></div>

	<h1>IP Info API (Server IP)</h1>
	<div class="collapsible">
		Code
	</div>
<div class="content"><pre><code>
fetch('https://geolocation.adcharity.repl.co/ip', {method: 'POST'})
.then(res => res.json())

</code></pre></div>

	<h2>Results</h2>
	<div id="ip-info-server"></div>

	<h1>IP Info API (JSON IP)</h1>
	<div class="collapsible">
		Code
	</div>
<div class="content"><pre><code>
async function jsonIp(){
	let json = await fetch('https://jsonip.com/').then(res => res.json())
	fetch(`https://ipinfo.io/${json.ip}/json?token=0467ce20890c84`)
	.then(res => res.json())
	.then(json => {
		let syntax = syntaxHighlight(JSON.stringify(json, null, 4))
		output(syntax, document.getElementById('ip-info-client'));
	})
}
jsonIp()

</code></pre></div>
	<h2>Results</h2>
	<div id="ip-info-client"></div>
	
	<h1>Who Is API</h1>
	<div class="collapsible">
		Code
	</div>
	
<div class="content"><pre><code>
fetch('https://ip-geolocation-ipwhois-io.p.rapidapi.com/json/', {
    method: 'GET',
    headers: { 
		'Content-Type': 'application/json',
		'x-rapidapi-host':'ip-geolocation-ipwhois-io.p.rapidapi.com',
		'x-rapidapi-key': 'srclZqaa9imshAk9Xzz55u27oltLp1SqdiFjsnmva9PTpf2j3f'
	}
})
.then(res => res.json())

</code></pre></div>
	<h2>Results</h2>
	<div id="who-is"></div>
</body>
</html>